<!DOCTYPE html>

<html>
<head>
<meta content="text/html; charset=UTF-8" http-equiv="Content-Type">

<title>class Versionomy::Schema::FieldBuilder - Versionomy 0.4.4 Documentation</title>

<link type="text/css" media="screen" href="../../rdoc.css" rel="stylesheet">

<script type="text/javascript">
  var rdoc_rel_prefix = "../../";
</script>

<script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/navigation.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search_index.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/search.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/searcher.js"></script>
<script type="text/javascript" charset="utf-8" src="../../js/darkfish.js"></script>


<body id="top" class="class">
<nav id="metadata">
  <nav id="home-section" class="section">
  <h3 class="section-header">
    <a href="../../index.html">Home</a>
    <a href="../../table_of_contents.html#classes">Classes</a>
    <a href="../../table_of_contents.html#methods">Methods</a>
  </h3>
</nav>


  <nav id="search-section" class="section project-section" class="initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <h3 class="section-header">
      <input type="text" name="search" placeholder="Search" id="search-field"
             title="Type to search, Up and Down to navigate, Enter to load">
    </h3>
  </form>

  <ul id="search-results" class="initially-hidden"></ul>
</nav>


  <div id="file-metadata">
    <nav id="file-list-section" class="section">
  <h3 class="section-header">Defined In</h3>
  <ul>
    <li>lib/versionomy/schema/field.rb
  </ul>
</nav>

    
  </div>

  <div id="class-metadata">
    
    <nav id="parent-class-section" class="section">
  <h3 class="section-header">Parent</h3>
  
  <p class="link">Object
  
</nav>

    <!-- Included Modules -->
<nav id="includes-section" class="section">
  <h3 class="section-header">Included Modules</h3>

  <ul class="link-list">
  
  
    <li><span class="include">::Blockenspiel::DSL</span>
  
  
  </ul>
</nav>

    <!-- Method Quickref -->
<nav id="method-list-section" class="section">
  <h3 class="section-header">Methods</h3>

  <ul class="link-list">
    
    <li><a href="#method-i-default_value">#default_value</a>
    
    <li><a href="#method-i-field">#field</a>
    
    <li><a href="#method-i-range">#range</a>
    
    <li><a href="#method-i-symbol">#symbol</a>
    
    <li><a href="#method-i-to_bump">#to_bump</a>
    
    <li><a href="#method-i-to_canonicalize">#to_canonicalize</a>
    
    <li><a href="#method-i-to_compare">#to_compare</a>
    
  </ul>
</nav>

  </div>

  <div id="project-metadata">
    <nav id="fileindex-section" class="section project-section">
  <h3 class="section-header">Pages</h3>

  <ul>
  
    <li class="file"><a href="../../History_rdoc.html">History</a>
  
    <li class="file"><a href="../../README_rdoc.html">README</a>
  
    <li class="file"><a href="../../Versionomy_rdoc.html">Versionomy</a>
  
  </ul>
</nav>

    <nav id="classindex-section" class="section project-section">
  <h3 class="section-header">Class and Module Index</h3>

  <ul class="link-list">
  
    <li><a href="../../Versionomy.html">Versionomy</a>
  
    <li><a href="../../Versionomy/Conversion.html">Versionomy::Conversion</a>
  
    <li><a href="../../Versionomy/Conversion/Base.html">Versionomy::Conversion::Base</a>
  
    <li><a href="../../Versionomy/Conversion/Parsing.html">Versionomy::Conversion::Parsing</a>
  
    <li><a href="../../Versionomy/Conversion/Parsing/Builder.html">Versionomy::Conversion::Parsing::Builder</a>
  
    <li><a href="../../Versionomy/Conversion/Rubygems.html">Versionomy::Conversion::Rubygems</a>
  
    <li><a href="../../Versionomy/Conversion/Semver.html">Versionomy::Conversion::Semver</a>
  
    <li><a href="../../Versionomy/Errors.html">Versionomy::Errors</a>
  
    <li><a href="../../Versionomy/Errors/CircularDescendantError.html">Versionomy::Errors::CircularDescendantError</a>
  
    <li><a href="../../Versionomy/Errors/ConversionError.html">Versionomy::Errors::ConversionError</a>
  
    <li><a href="../../Versionomy/Errors/ConversionRedefinedError.html">Versionomy::Errors::ConversionRedefinedError</a>
  
    <li><a href="../../Versionomy/Errors/FormatCreationError.html">Versionomy::Errors::FormatCreationError</a>
  
    <li><a href="../../Versionomy/Errors/FormatRedefinedError.html">Versionomy::Errors::FormatRedefinedError</a>
  
    <li><a href="../../Versionomy/Errors/IllegalValueError.html">Versionomy::Errors::IllegalValueError</a>
  
    <li><a href="../../Versionomy/Errors/ParseError.html">Versionomy::Errors::ParseError</a>
  
    <li><a href="../../Versionomy/Errors/RangeOverlapError.html">Versionomy::Errors::RangeOverlapError</a>
  
    <li><a href="../../Versionomy/Errors/RangeSpecificationError.html">Versionomy::Errors::RangeSpecificationError</a>
  
    <li><a href="../../Versionomy/Errors/SchemaCreationError.html">Versionomy::Errors::SchemaCreationError</a>
  
    <li><a href="../../Versionomy/Errors/SchemaMismatchError.html">Versionomy::Errors::SchemaMismatchError</a>
  
    <li><a href="../../Versionomy/Errors/SymbolRedefinedError.html">Versionomy::Errors::SymbolRedefinedError</a>
  
    <li><a href="../../Versionomy/Errors/TypeMismatchError.html">Versionomy::Errors::TypeMismatchError</a>
  
    <li><a href="../../Versionomy/Errors/UnknownConversionError.html">Versionomy::Errors::UnknownConversionError</a>
  
    <li><a href="../../Versionomy/Errors/UnknownFormatError.html">Versionomy::Errors::UnknownFormatError</a>
  
    <li><a href="../../Versionomy/Errors/UnparseError.html">Versionomy::Errors::UnparseError</a>
  
    <li><a href="../../Versionomy/Errors/VersionomyError.html">Versionomy::Errors::VersionomyError</a>
  
    <li><a href="../../Versionomy/Format.html">Versionomy::Format</a>
  
    <li><a href="../../Versionomy/Format/Base.html">Versionomy::Format::Base</a>
  
    <li><a href="../../Versionomy/Format/Delimiter.html">Versionomy::Format::Delimiter</a>
  
    <li><a href="../../Versionomy/Format/Delimiter/Builder.html">Versionomy::Format::Delimiter::Builder</a>
  
    <li><a href="../../Versionomy/Format/Delimiter/IntegerFieldBuilder.html">Versionomy::Format::Delimiter::IntegerFieldBuilder</a>
  
    <li><a href="../../Versionomy/Format/Delimiter/MappingSymbolBuilder.html">Versionomy::Format::Delimiter::MappingSymbolBuilder</a>
  
    <li><a href="../../Versionomy/Format/Delimiter/StringFieldBuilder.html">Versionomy::Format::Delimiter::StringFieldBuilder</a>
  
    <li><a href="../../Versionomy/Format/Delimiter/SymbolFieldBuilder.html">Versionomy::Format::Delimiter::SymbolFieldBuilder</a>
  
    <li><a href="../../Versionomy/Format/Rubygems.html">Versionomy::Format::Rubygems</a>
  
    <li><a href="../../Versionomy/Format/Rubygems/ExtraMethods.html">Versionomy::Format::Rubygems::ExtraMethods</a>
  
    <li><a href="../../Versionomy/Format/Semver.html">Versionomy::Format::Semver</a>
  
    <li><a href="../../Versionomy/Format/Semver/ExtraMethods.html">Versionomy::Format::Semver::ExtraMethods</a>
  
    <li><a href="../../Versionomy/Format/Standard.html">Versionomy::Format::Standard</a>
  
    <li><a href="../../Versionomy/Format/Standard/ExtraMethods.html">Versionomy::Format::Standard::ExtraMethods</a>
  
    <li><a href="../../Versionomy/Format.html">Versionomy::Formats</a>
  
    <li><a href="../../Versionomy/Schema.html">Versionomy::Schema</a>
  
    <li><a href="../../Versionomy/Schema/Builder.html">Versionomy::Schema::Builder</a>
  
    <li><a href="../../Versionomy/Schema/Field.html">Versionomy::Schema::Field</a>
  
    <li><a href="../../Versionomy/Schema/FieldBuilder.html">Versionomy::Schema::FieldBuilder</a>
  
    <li><a href="../../Versionomy/Schema/Wrapper.html">Versionomy::Schema::Wrapper</a>
  
    <li><a href="../../Versionomy/Value.html">Versionomy::Value</a>
  
  </ul>
</nav>

  </div>
</nav>

<div id="documentation">
  <h1 class="class">class Versionomy::Schema::FieldBuilder</h1>

  <div id="description" class="description">
    
<p>These methods are available in a schema field definition block.</p>

  </div><!-- description -->

  
  
  
  <section id="5Buntitled-5D" class="documentation-section">
    

    

    

    

    <!-- Methods -->
    
     <section id="public-instance-5Buntitled-5D-method-details" class="method-section section">
      <h3 class="section-header">Public Instance Methods</h3>

    
      <div id="method-i-default_value" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">default_value</span><span
            class="method-args">(value_)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Provide a default value.</p>
          

          
          <div class="method-source-code" id="default_value-source">
            <pre><span class="ruby-comment"># File lib/versionomy/schema/field.rb, line 408</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">default_value</span>(<span class="ruby-identifier">value_</span>)
  <span class="ruby-ivar">@field</span>.<span class="ruby-identifier">_set_default_value</span>(<span class="ruby-identifier">value_</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- default_value-source -->
          
        </div>

        

        
      </div><!-- default_value-method -->

    
      <div id="method-i-field" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">field</span><span
            class="method-args">(name_, opts_={}, &block_)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Add a child field.</p>

<p>Recognized options include:</p>
<dl class="rdoc-list note-list"><dt><code>:only</code>
<dd>
<p>The child should be available only for the given values of this field. See
below for ways to specify this constraint.</p>
</dd><dt><code>:type</code>
<dd>
<p>Type of field. This should be <code>:integer</code>, <code>:string</code>,
or <code>:symbol</code>. Default is <code>:integer</code>.</p>
</dd><dt><code>:default_value</code>
<dd>
<p>Default value for the field if no value is explicitly set. Default is 0 for
an integer field, the empty string for a string field, or the first symbol
added for a symbol field.</p>
</dd></dl>

<p>You may provide an optional block. Within the block, you may call methods
of this class again to customize the child.</p>

<p>Raises <a
href="../Errors/IllegalValueError.html">Versionomy::Errors::IllegalValueError</a>
if the given default value is not legal.</p>

<p>The <code>:only</code> constraint may be specified in one of the following
ways:</p>
<ul><li>
<p>A single value (integer, string, or symbol)</p>
</li><li>
<p>The result of calling range() to define an inclusive range of integers,
strings, or symbols. In this case, either element may be nil, specifying an
open end of the range. If the field type is symbol, the ordering of symbols
for the range is defined by the order in which the symbols were added to
this schema.</p>
</li><li>
<p>A Range object defining a range of integers or strings. Only inclusive, not
exclusive, ranges are supported.</p>
</li><li>
<p>An array of the above.</p>
</li></ul>

<p>Raises <a
href="../Errors/RangeSpecificationError.html">Versionomy::Errors::RangeSpecificationError</a>
if the given ranges are not legal.</p>

<p>Raises <a
href="../Errors/RangeOverlapError.html">Versionomy::Errors::RangeOverlapError</a>
if the given ranges overlap previously specified ranges, or more than one
default schema is specified.</p>
          

          
          <div class="method-source-code" id="field-source">
            <pre><span class="ruby-comment"># File lib/versionomy/schema/field.rb, line 483</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">field</span>(<span class="ruby-identifier">name_</span>, <span class="ruby-identifier">opts_</span>={}, &amp;<span class="ruby-identifier">block_</span>)
  <span class="ruby-identifier">only_</span> = <span class="ruby-identifier">opts_</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-value">:only</span>)
  <span class="ruby-identifier">opts_</span>.<span class="ruby-identifier">merge!</span>(<span class="ruby-value">:master_builder</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-ivar">@master_builder</span>)
  <span class="ruby-ivar">@field</span>.<span class="ruby-identifier">add_child</span>(<span class="ruby-constant">Schema</span><span class="ruby-operator">::</span><span class="ruby-constant">Field</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">name_</span>, <span class="ruby-identifier">opts_</span>, &amp;<span class="ruby-identifier">block_</span>), <span class="ruby-identifier">only_</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- field-source -->
          
        </div>

        

        
      </div><!-- field-method -->

    
      <div id="method-i-range" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">range</span><span
            class="method-args">(first_, last_)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Define a range for the <code>:only</code> parameter to <code>child</code>.</p>

<p>This creates an object that <code>child</code> interprets like a standard
ruby Range. However, it is customized for the use of <code>child</code> in
the following ways:</p>
<ul><li>
<p>It supports only inclusive, not exclusive ranges.</p>
</li><li>
<p>It supports open-ended ranges by setting either endpoint to nil.</p>
</li><li>
<p>It supports symbol ranges under Ruby 1.8.</p>
</li></ul>
          

          
          <div class="method-source-code" id="range-source">
            <pre><span class="ruby-comment"># File lib/versionomy/schema/field.rb, line 499</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">range</span>(<span class="ruby-identifier">first_</span>, <span class="ruby-identifier">last_</span>)
  [<span class="ruby-identifier">first_</span>, <span class="ruby-identifier">last_</span>]
<span class="ruby-keyword">end</span></pre>
          </div><!-- range-source -->
          
        </div>

        

        
      </div><!-- range-method -->

    
      <div id="method-i-symbol" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">symbol</span><span
            class="method-args">(symbol_, opts_={})</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Define the given symbol.</p>

<p>Recognized options include:</p>
<dl class="rdoc-list note-list"><dt><code>:bump</code>
<dd>
<p>The symbol to transition to when “bump” is called. Default is to remain on
the same value.</p>
</dd></dl>

<p>Raises <a
href="../Errors/TypeMismatchError.html">Versionomy::Errors::TypeMismatchError</a>
if called when the current field is not of type <code>:symbol</code>.</p>

<p>Raises <a
href="../Errors/SymbolRedefinedError.html">Versionomy::Errors::SymbolRedefinedError</a>
if the given symbol name is already defined.</p>
          

          
          <div class="method-source-code" id="symbol-source">
            <pre><span class="ruby-comment"># File lib/versionomy/schema/field.rb, line 401</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">symbol</span>(<span class="ruby-identifier">symbol_</span>, <span class="ruby-identifier">opts_</span>={})
  <span class="ruby-ivar">@field</span>.<span class="ruby-identifier">_add_symbol</span>(<span class="ruby-identifier">symbol_</span>, <span class="ruby-identifier">opts_</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- symbol-source -->
          
        </div>

        

        
      </div><!-- symbol-method -->

    
      <div id="method-i-to_bump" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_bump</span><span
            class="method-args">(&block_)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Provide a “bump” procedure. The given block should take a value, and return
the value to transition to. If you return nil, the value will remain the
same.</p>
          

          
          <div class="method-source-code" id="to_bump-source">
            <pre><span class="ruby-comment"># File lib/versionomy/schema/field.rb, line 417</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_bump</span>(&amp;<span class="ruby-identifier">block_</span>)
  <span class="ruby-ivar">@field</span>.<span class="ruby-identifier">_set_bump_proc</span>(<span class="ruby-identifier">block_</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_bump-source -->
          
        </div>

        

        
      </div><!-- to_bump-method -->

    
      <div id="method-i-to_canonicalize" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_canonicalize</span><span
            class="method-args">(&block_)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Provide a “canonicalize” procedure. The given block should take a value and
return a canonicalized value. Return nil if the given value is illegal.</p>
          

          
          <div class="method-source-code" id="to_canonicalize-source">
            <pre><span class="ruby-comment"># File lib/versionomy/schema/field.rb, line 437</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_canonicalize</span>(&amp;<span class="ruby-identifier">block_</span>)
  <span class="ruby-ivar">@field</span>.<span class="ruby-identifier">_set_canonicalize_proc</span>(<span class="ruby-identifier">block_</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_canonicalize-source -->
          
        </div>

        

        
      </div><!-- to_canonicalize-method -->

    
      <div id="method-i-to_compare" class="method-detail ">
        
        <div class="method-heading">
          <span class="method-name">to_compare</span><span
            class="method-args">(&block_)</span>
          <span class="method-click-advice">click to toggle source</span>
        </div>
        

        <div class="method-description">
          
          <p>Provide a “compare” procedure. The given block should take two values and
compare them. It should return a negative integer if the first is less than
the second, a positive integer if the first is greater than the second, or
0 if the two values are equal. If the values cannot be compared, return
nil.</p>
          

          
          <div class="method-source-code" id="to_compare-source">
            <pre><span class="ruby-comment"># File lib/versionomy/schema/field.rb, line 428</span>
<span class="ruby-keyword">def</span> <span class="ruby-identifier">to_compare</span>(&amp;<span class="ruby-identifier">block_</span>)
  <span class="ruby-ivar">@field</span>.<span class="ruby-identifier">_set_compare_proc</span>(<span class="ruby-identifier">block_</span>)
<span class="ruby-keyword">end</span></pre>
          </div><!-- to_compare-source -->
          
        </div>

        

        
      </div><!-- to_compare-method -->

    
    </section><!-- public-instance-method-details -->
  
  </section><!-- 5Buntitled-5D -->

</div><!-- documentation -->


<footer id="validator-badges">
  <p><a href="http://validator.w3.org/check/referer">[Validate]</a>
  <p>Generated by <a href="https://github.com/rdoc/rdoc">RDoc</a> 3.12.
  <p>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish Rdoc Generator</a> 3.
</footer>

